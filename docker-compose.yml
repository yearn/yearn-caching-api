version: "3"
services:
  api:
    build: .
    command: yarn dev
    ports:
      - "3004:3004"
    volumes:
      - ./routes:/app/routes
      - ./plugins:/app/plugins
    environment:
      PORT: 3004
      WEB3_HTTP_PROVIDER: ${WEB3_HTTP_PROVIDER}
      WEB3_HTTP_PROVIDER_FTM_URL: ${WEB3_HTTP_PROVIDER_FTM_URL}
      WEB3_HTTP_PROVIDER_FTM_USERNAME: ${WEB3_HTTP_PROVIDER_FTM_USERNAME}
      WEB3_HTTP_PROVIDER_FTM_PASSWORD: ${WEB3_HTTP_PROVIDER_FTM_PASSWORD}
    logging:
      driver: "json-file"
      options:
        max-size: "200k"
        max-file: "10"
  redis:
    image: "redis:alpine"
